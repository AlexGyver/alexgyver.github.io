(()=>{"use strict";class e{constructor(t,a={}){a.context=this,this.$root=e.make(t,a)}static make(t,a={}){return t&&"object"==typeof a?a instanceof Node?a:e.config(document.createElement(t),a):null}static makeShadow(t,a={},n=null){if(!t||"object"!=typeof a)return null;let c=t instanceof Node?t:document.createElement(t);return c.attachShadow({mode:"open"}),e.config(c.shadowRoot,{context:a.context,children:[{tag:"style",textContent:n??""},a.child??{},...a.children??[]]}),delete a.children,delete a.child,e.config(c,a),c}static config(t,a){if(!(t instanceof Node)||"object"!=typeof a)return t;const n=a.context;let c=a=>{if(a)if(a instanceof Node)t.appendChild(a);else if(a instanceof e)t.appendChild(a.$root);else if("object"==typeof a){a.context||(a.context=n);let c=e.make(a.tag,a);c&&t.appendChild(c)}else"string"==typeof a&&(t.innerHTML+=a)};for(const[e,s]of Object.entries(a))if(s)switch(e){case"tag":case"context":continue;case"text":t.textContent=s;break;case"html":t.innerHTML=s;break;case"class":t.classList.add(...s.split(" "));break;case"also":n&&s.call(n,t);break;case"export":s[0]=t;break;case"var":n&&(n["$"+s]=t);break;case"events":for(let e in s)s[e]&&t.addEventListener(e,s[e].bind(n));break;case"parent":(s instanceof Node||s instanceof DocumentFragment)&&s.append(t);break;case"attrs":for(let e in s)t.setAttribute(e,s[e]);break;case"props":for(let e in s)t[e]=s[e];break;case"child":c(s);break;case"children":for(const e of s)c(e);break;case"style":if("string"==typeof s)t.style.cssText+=s+";";else for(let e in s)t.style[e]=s[e];break;default:t[e]=s}return t}static makeArray(t){return t&&Array.isArray(t)?t.map((t=>e.make(t.tag,t))):[]}}new Set,new Map;class t{constructor(){this.load()}async load(){e.make("div",{parent:document.body,context:this,class:"main",children:[{tag:"div",class:"header",text:"AlexGyver OTA"},{tag:"div",class:"projects",var:"projects"}]});let t=await fetch("https://raw.githubusercontent.com/AlexGyver/ota-projects/main/projects.txt",{cache:"no-store"});t=await t.text(),t=t.split(/\r?\n/);for(let a of t)e.make("div",{context:this,parent:this.$projects,var:a,class:"project",children:[{tag:"span",class:"project_label",text:a,events:{click:()=>window.open("https://github.com/AlexGyver/"+a)}},{tag:"div",class:"icon down",events:{click:()=>{this["$"+a+"_btn"].click()}}}]}),e.make("esp-web-install-button",{context:this,parent:document.body,style:"display:none",var:a+"_btn",attrs:{manifest:"https://raw.githubusercontent.com/AlexGyver/"+a+"/main/project.json"},child:{tag:"button",slot:"activate"}})}}document.addEventListener("DOMContentLoaded",(async()=>{new t}))})();